int x, y, z;
const unsigned long eventInterval = 100;
unsigned long previousTime = 0;


void setup()
{
  Serial.begin(9600); // sets the serial port to 9600
}

void loop()
{
  unsigned long currentTime = millis();
  unsigned long mittaus = 1; 
  if (currentTime - previousTime >= eventInterval && mittaus == 1)  {
    x = analogRead(0); // read analog input pin 0
    y = analogRead(1); // read analog input pin 1
    z = analogRead(2); // read analog input pin 1
    Serial.print("accelerations are x, y, z: ");
    Serial.print(x, DEC); // print acceleration in the X axis
    Serial.print(" "); // prints a space between the numbers
    Serial.print(y, DEC); // print acceleration in the Y axis
    Serial.print(" "); // prints a space between the numbers
    Serial.println(z, DEC); // print acceleration in the Z axis
    previousTime = currentTime;                                
  
  
    if (z > 600 || y > 600) {
        unsigned long iskuaika = currentTime;
        mittaus = 0;
        Serial.print("isku havaittu");
        unsigned long valiaika = currentTime;
        
        if (currentTime - valiaika >= 3000) {
          int z2 = analogRead(2); 
          int y2 = analogRead(1);  // mittaa kiihtyvydeen uudestaan
          Serial.println("1. mittaus iskun jlk");
          
          if (currentTime - valiaika >= 5000) {
            int z3 = analogRead(2);
            int y3 = analogRead(1);  // mittaa kiihtyvyyden taas
            Serial.println("2. mittaus iskun jlk");
            if (z3 == z2 || y2 == y3) { 
              Serial.print("SOS");       // jos kyp채r채 j채채nyt paikoilleen niin kertoo raspille: soita avunhuuto
    
        previousTime = currentTime;
    }}}}}}
 
 
